<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>商品詳細資料</title>
    <meta charset="UTF-8">
</head>
<body>

<h1>商品詳細資料</h1>

<div th:if="${product}">
    <!-- Image Gallery -->
    <div class="image-gallery" th:if="${product.images != null and !product.images.empty}">
        <div th:each="image : ${product.images}">
            <img th:src="${image.signedUrl}" alt="商品圖片" width="300">
        </div>
    </div>

    <!-- Placeholder for products with no images -->
    <div th:if="${product.images == null or product.images.empty}">
        <img src="https://via.placeholder.com/300x300?text=No+Image" alt="無圖片" width="300">
    </div>
    <h2 th:text="${product.name}">商品名稱</h2>
    <p>價格: <span th:text="${product.price}"></span></p>
    <p>庫存: <span th:text="${product.stock}"></span></p>

    <button th:if="${product.stock > 0}">新增至購物車</button>
    <button th:if="${product.stock == 0}" disabled style="background-color: grey; color: white;">庫存不足</button>
</div>

<div th:if="${product == null}">
    <p>找不到商品</p>
</div>

</body>
</html>
